# E64002 H6COM-T Heartbeat 갱신 중단 에러

## 1. 개요

안전보드(BD632)가 메인제어모듈(H6COM-T)로부터 수신하는 Heartbeat가 갱신되지 않았습니다. 이 경우 시스템은 모터온을 할 수 없게 됩니다.

## 2. 원인 및 점검

{% hint style="info" %}

(1)	메인의 테스크 주기가 정상 범주 내에 있지 않은 경우
* 최신 버전의 SW가 설치 되지 않은 경우
* 외부 장비와의 통신이상이 시스템에 영향을 주는 경우

(2)	보드 간 통신 케이블 결선 상태 확인.

(3)	안전보드(BD632)를 점검하십시오.

{% endhint %}

### (1)	메인의 테스크 주기가 정상 범주 내에 있지 않은 경우

#### [최신 버전의 SW가 설치 되지 않은 경우]

TP화면에서 서비스 -> 시스템 진단 -> 시스템 버전 으로 이동하여 현재 설치된 버전이 최신 버전의 소프트웨어인지 확인한다.

![](../_assets/3-Safety-io/E64002/그림1.png)<br>
![](../_assets/3-Safety-io/E64002/그림2.png)<br>
![](../_assets/3-Safety-io/E64002/그림3.png)<br>
![](../_assets/3-Safety-io/E64002/그림4.png)<br>
 
#### [외부 장비와의 통신이상이 시스템에 영향을 주는 경우]

외부 장비와의 통신 활성화 유무에 따라 시스템에 영향을 주는 경우가 생길 수 있습니다. 이 경우 외부 장비와의 통신 활성화 유무에 따라 /tIOMain0의 태스크 실행시간을 비교하여 주십시오.

만약 최대수행시간이 10000 usec를 초과하는 경우 로봇 소프트웨어 개발팀과 사용조건에 대해 상의 하십시오.

#### [태스크 실행시간 확인 방법]
창조정 -> 분할(상하) -> 아래 창 누르고 -> 선택 버튼 -> 태스크모니터 선택

![](../_assets/3-Safety-io/E64002/그림5.png)<br>
![](../_assets/3-Safety-io/E64002/그림6.png)<br>
![](../_assets/3-Safety-io/E64002/그림7.png)<br>
초기화 버튼 누르고 일정시간 뒤 (약 10분) 최대 수행시간 확인
![](../_assets/3-Safety-io/E64002/그림8.png)<br>


 
### (2)	보드 간 통신 케이블 결선 상태 확인.

#### [각 모듈간(메인제어모듈(H6COM-T), 서보보드(BD640), 안전보드(BD632)) Ethernet 케이블 결선 상태 확인]

![](../_assets/3-Safety-io/E64002/그림9.png)<br>
 

1)	점검 대상<br>
A.	메인제어모듈 (H6COM-T) ↔ 서보보드 (BD640) 간 Ethernet 케이블<br>
B.	서보보드 (BD640) ↔ 안전보드 (BD632) 간 Ethernet 케이블<br>
2)	점검 항목<br>
A.	케이블 양쪽 커넥터가 확실히 체결되어 있는지 확인<br>
B.	케이블에 단선, 압착 손상, 꺾임, 파손이 없는지 육안 점검<br>
C.	커넥터 핀(단자)에 녹, 오염, 휘어짐이 없는지 확인<br>
3)	점검 방법<br>
A.	전원을 OFF한 상태에서 케이블 분리 및 재삽입 수행<br>
B.	삽입 시 '딸깍' 소리가 나도록 완전히 체결<br>
C.	필요한 경우 예비 케이블로 교체 후 재시도<br>
D.	연결 순서 및 올바른 LAN Port와 연결되어 있는지 재확인<br>
4)	추가 확인<br>
A.	서보보드(BD640), 안전보드(BD632) 장치 자체에 Link/Act LED 상태 확인<br>
- 정상: 녹색(좌) 점멸, 황색(우) 점등 <br>
- 비정상: 녹색(좌) & 황색(우) 꺼짐 또는 점등 상태 유지<br>
![](../_assets/3-Safety-io/E64002/그림10.png)<br>
B.	반복적으로 끊김이 발생할 경우, 케이블 내부 단선 가능성 고려 → 케이블 교체 필요<br>
C.	이더넷 커넥터(PCB 단자부) 손상 가능성도 점검<br>

 
### (3)	안전보드(BD632)를 점검하십시오.

#### [안전보드(BD632)를 점검하는 방법]

![](../_assets/3-Safety-io/E64002/그림11.png)<br>
 
1)	전원 상태를 확인하는 방법<br>
A.	위 그림의 두개의 전원 LED가 녹색 점등 상태 인지를 확인<br>
B.	전원 LED가 적색 또는 소등인 경우 표시된 퓨즈가 정상 상태인지를 확인한다.<br>
C.	퓨즈가 끊겼다면 퓨즈를 교체한다.<br>

2)	모터온시 전원이 불안정한 상태인지 확인<br>
A.	모터온시에 전원 LED가 녹색 점등 상태 인지를 확인한다. <br>
B.	모터온 순간 적색으로 변하거나 소등되다면 모터온시 전원이 불안정한 상태 임<br>

3)	전원 상태가 불안정한 경우<br>
A.	전원 커넥터 체결 상태 확인<br>
B.	전원 케이블 점검<br>
C.	안전보드(BD632) 접지 상태 점검 (접지 케이블, 접지 단자 체결 상태)<br>

4)	안전보드가 정상 부팅 상태인지를 확인<br>
A.	메인제어모듈 (H6COM-T)이 완전히 부팅되고 난 후(전원투입후 약 50초 정도 소요) 7-Segment의 표시가 ‘S’자로 2개가 표시 되어야 함.<br>
B.	ECAT Led 라고 표시된 LED 중 적색 점멸 or점등이 보이지 않아야 함.

5)	1)~4)의 점검사항이 모두 이상이 없는 경우에도 통신에 문제가 있다면 안전보드(BD632)를 교체한다.
